!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);const o={tools:{pencil:!0,bucket:!1,picker:!1},colors:{current:"#c4c4c4",prev:"#41f795"},canvas:{width:0,height:0},block:{width:0,height:0}},r=(t,e)=>{const n=t=>{const{pencil:n}=o.tools,{width:r,height:i}=o.block,{current:c}=o.colors;if(t.buttons>0&&!0===n){const n=t.offsetX,o=t.offsetY,a=t.movementX,s=t.movementY;((t,e,n,o,r,i,c,a)=>{let s=Math.round(e/i),l=Math.round(n/c);const u=Math.round(o/i),d=Math.round(r/c),p=Math.abs(u-s),f=s<u?1:-1,h=-Math.abs(d-l),g=l<d?1:-1;let b,v=p+h,m=!1;for(t.beginPath(),t.fillStyle=a;!m;)t.rect(s*i,l*c,i,c),s===u&&l===d?m=!0:((b=2*v)>h&&(v+=h,s+=f),b<p&&(v+=p,l+=g));t.fill()})(e,n-a,o-s,n,o,r,i,c)}};t.addEventListener("mousemove",n),t.addEventListener("mousedown",n)},i=()=>{const t=document.querySelector('.pixel-range > input[type="range"]'),e=document.querySelector(".pixel-range > label");t.addEventListener("change",t=>{(t=>{const e=o;e.block.width=e.canvas.width/t.target.value,e.block.height=e.canvas.height/t.target.value})(t),e.innerText=t.target.value})},c=t=>{const e=document.querySelector('.get-city > input[type="text"]'),n=document.querySelector('.get-city > input[type="submit"]'),r=async e=>{const n=`https://api.unsplash.com/photos/random?query=${`town,${e}`}&client_id=4b65e965dafd01dd64d63fff90e2d82ca1d42c74df27c8e896b67038dc028e10`,r=await fetch(n),i=await r.json(),c=new Image;c.src=i.urls.small;const a=1*i.width/400;c.width=i.width/a,c.height=i.height/a,c.setAttribute("crossOrigin",""),setTimeout(()=>{((t,e)=>{const n=t;let r=0,i=0,c=0;const a=o.canvas.width,s=o.canvas.height;let l=n.width,u=n.height;l>u&&l<a?(l*=r=a/l,i=0,c=(s-(u*=r))/2):u>l&&u<s&&(u*=r=s/u,i=(a-(l*=r))/2,c=0),0!==r&&(n.onload=()=>{e.clearRect(0,0,a,s),e.drawImage(n,i,c,l,u)})})(c,t)},100)};n.addEventListener("click",t=>{t.preventDefault(),e.value&&r(e.value)})},a=t=>{const e=document.querySelector(".bw-button");e.addEventListener("click",()=>{(()=>{const{width:e,height:n}=o.canvas,r=t.getImageData(0,0,e,n),{data:i}=r;for(let t=e*n*4-1;t>0;t-=4){const e=.3*i[t-3]+.59*i[t-2]+.11*i[t-1];i[t-3]=e,i[t-2]=e,i[t-1]=e}t.putImageData(r,0,0)})()})};(()=>{const t=document.getElementById("palette"),e=t.getContext("2d");(t=>{const e=o;e.canvas.width=t.width,e.canvas.height=t.height,e.block.width=t.width/128,e.block.height=t.height/128})(t),((t,e)=>{const{width:n,height:r}=o.canvas;if(localStorage.getItem("image")){const t=new Image;t.onload=()=>{e.clearRect(0,0,n,r),e.drawImage(t,0,0)},t.src=localStorage.getItem("image"),e.drawImage(t,0,0)}window.addEventListener("unload",()=>{localStorage.setItem("image",t.toDataURL())})})(t,e),r(t,e),((t,e)=>{const n=document.querySelector(".colors"),r=document.querySelector('input[type="color"]'),i=(t=null)=>{const e=o.colors,n=document.querySelector(".curr > span"),r=document.querySelector(".prev > span"),i=e.current;t?(e.current=t,e.prev=i):(e.current=e.prev,e.prev=i),n.style.background=e.current,r.style.background=e.prev};r.addEventListener("change",t=>{i(t.target.value)}),n.addEventListener("click",t=>{(t.target.classList.contains("curr")||t.target.classList.contains("prev"))&&i(),(t.target.classList.contains("red")||t.target.classList.contains("blue"))&&i(t.target.getAttribute("data-color"))}),t.addEventListener("click",t=>{const{picker:n}=o.tools,r=t.offsetX,c=t.offsetY;if(!0===n){const t=e.getImageData(r,c,1,1).data;i(`#${((t,e,n)=>[t,e,n].map(t=>{const e=t.toString(16);return 1===e.length?`0${e}`:e}).join(""))(...t)}`)}})})(t,e),(()=>{const t=document.querySelector(".tools"),e=e=>{const n=o.tools;[].forEach.call(t.children,t=>{t.classList.remove("active")}),"pencil"!==e.target.getAttribute("data-tool")&&"KeyP"!==e.code||(n.pencil=!0,n.bucket=!1,n.picker=!1,e.code?document.querySelector('li[data-tool="pencil"]').classList.add("active"):e.target.classList.add("active")),"bucket"!==e.target.getAttribute("data-tool")&&"KeyB"!==e.code||(n.pencil=!1,n.bucket=!0,n.picker=!1,e.code?document.querySelector('li[data-tool="bucket"]').classList.add("active"):e.target.classList.add("active")),"picker"!==e.target.getAttribute("data-tool")&&"KeyC"!==e.code||(n.pencil=!1,n.bucket=!1,n.picker=!0,e.code?document.querySelector('li[data-tool="picker"]').classList.add("active"):e.target.classList.add("active"))};window.addEventListener("keypress",e),t.addEventListener("click",e)})(),((t,e)=>{e.addEventListener("click",()=>{const{bucket:e}=o.tools;if(!0===e){const e=t,{width:n,height:r}=o.canvas,{current:i}=o.colors;e.fillStyle=i,e.fillRect(0,0,n,r)}})})(e,t),i(),c(e),a(e)})()},function(t,e,n){var o=n(2);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(9)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(3)(!1);var o=n(4),r=o(n(5)),i=o(n(6)),c=o(n(7)),a=o(n(8));e.push([t.i,".wrapper{\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-flow: row;\n  max-width: 1440px;\n  width: 100%;\n  margin: 0 auto;\n}\n\nmain {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\nsection.toolpane {\n  width: 20%;\n}\n\n.tools{\n  list-style: none;\n  border:2px solid #ccc;\n  margin-bottom:30px;\n  padding: 0;\n}\n\n.tools li{\n  margin: 0;\n  position: relative;\n  text-decoration: none;\n  color:#757575;\n  font-size:19px;\n  cursor: pointer;\n  padding: 13px 45px;\n}\n\nli.unactive {\n  cursor: unset;\n  opacity: 0.3;\n}\n\nli.active {\n  background: #ccc;\n  color:#000;\n}\n\n.tools li:hover{\n  text-decoration: underline;\n}\n\nli.unactive:hover{\n  text-decoration: none;\n  background: none;\n}\n\n.tools li:before{\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width:22px;\n  height:22px;\n  background-repeat: no-repeat;\n}\n\n.paint:before{\n  content:'';\n  top: 16px;\n  left: 13px;\n  background: url("+r+");\n}\n\n.choose-color:before{\n  content:'';\n  position: absolute;\n  top: 15px;\n  left: 11px;\n  background: url("+i+");\n}\n\n.pencil:before{\n  content:'';\n  position: absolute;\n  top: 13px;\n  left: 10px;\n  background: url("+c+");\n}\n\n.transform:before{\n  content:'';\n  position: absolute;\n  top: 17px;\n  left: 10px;\n  background: url("+a+');\n}\n\nul.colors{\n  list-style: none;\n  border:2px solid #ccc;\n  margin-bottom:30px;\n  padding:0;\n}\n\nform {\n  display: flex;\n  justify-content: flex-end;\n  padding: 0 30px 0 0;\n}\n\nform > input[type="color"] {\n  border: 1px solid #000;\n  background: none;\n  cursor: pointer;\n}\n.colors li{\n  margin: 16px 0 16px 50px;\n  text-decoration: none;\n  color:#757575;\n  font-size:19px;\n  cursor: pointer;\n}\n\n.colors li > span {\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  margin: 0px 11px -2px -30px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.curr span{\n  background: #c4c4c4;\n}\n\n.prev span{\n  background: #41F795;\n}\n\n.red span{\n  background: red;\n}\n\n.blue span{\n  background: blue;\n}\n\n.colors li:hover{\n  text-decoration: underline;\n}\n\nsection.canvas {\n  width: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n}\n\n.top-panel {\n  display: flex;\n  flex-flow: row;\n  justify-content: space-around;\n  width: 100%;\n  margin: 15px 0 15px 0;\n}\n\n.search > form {\n  display:flex;\n  flex-flow: row-reverse;\n}\n\n#palette{\n  background: #333;\n}\n',""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(c=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+" */"),i=o.sources.map((function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"}));return[n].concat(i).concat([r]).join("\n")}var c;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(r=0;r<t.length;r++){var c=t[r];null!=c[0]&&o[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="("+c[2]+") and ("+n+")"),e.push(c))}},e}},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){t.exports=n.p+"06128b352b61fc4c0bfbdeef1c9bd0ec.png"},function(t,e,n){t.exports=n.p+"f3bc4289313b7bf8244d0cb51b73c97a.png"},function(t,e,n){t.exports=n.p+"a48f68494ffbf8ba706a15e4f6b41efc.png"},function(t,e,n){t.exports=n.p+"2105c8711424089ab6fd82e21d61e824.png"},function(t,e,n){var o,r,i={},c=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=a.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),l=null,u=0,d=[],p=n(10);function f(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var c=0;c<r.parts.length;c++)r.parts[c](o.parts[c]);for(;c<o.parts.length;c++)r.parts.push(y(o.parts[c],e))}else{var a=[];for(c=0;c<o.parts.length;c++)a.push(y(o.parts[c],e));i[o.id]={id:o.id,refs:1,parts:a}}}}function h(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],c=e.base?i[0]+e.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[c]?o[c].parts.push(a):n.push(o[c]={id:c,parts:[a]})}return n}function g(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertAt.before,n);n.insertBefore(e,r)}}function b(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return n.nc}();o&&(t.attrs.nonce=o)}return m(e,t.attrs),g(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function y(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var c=u++;n=l||(l=v(e)),o=k.bind(null,n,c,!1),r=k.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),g(t,e),e}(e),o=S.bind(null,n,e),r=function(){b(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),o=L.bind(null,n),r=function(){b(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=c()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return f(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var c=n[r];(a=i[c.id]).refs--,o.push(a)}t&&f(h(t,e),e);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var s=0;s<a.parts.length;s++)a.parts[s]();delete i[a.id]}}}};var x,w=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join("\n")});function k(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var i=document.createTextNode(r),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(i,c[e]):t.appendChild(i)}}function L(t,e){var n=e.css,o=e.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function S(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=p(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var c=new Blob([o],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(c),a&&URL.revokeObjectURL(a)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}}]);
//# sourceMappingURL=app.bundle.js.map