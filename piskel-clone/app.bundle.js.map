{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/util.js","webpack:///./src/assets/img/unfilled.png","webpack:///./src/assets/img/logo.png","webpack:///./src/assets/img/screen-app.png","webpack:///./src/assets/img/templates/hello.gif","webpack:///./src/assets/img/templates/world.gif","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./src/js/components/tools.js","webpack:///./src/js/components/frames.js","webpack:///./src/js/components/drawCanvas.js","webpack:///./src/js/components/preview.js","webpack:///./src/js/components/wrapperSprite.js","webpack:///./src/js/components/wrapperLanding.js","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Element","insertAfter","newEl","parentNode","insertBefore","nextSibling","createDomEl","tagName","className","tagTo","tagValue","tagAttr","domEl","document","createElement","Array","classList","add","innerHTML","keys","forEach","elem","setAttribute","append","Localstorage","this","someData","localStorage","setItem","JSON","stringify","getItem","parse","randomNumber","min","max","Math","floor","random","saveProperty","obj","val","rgbToHex","rgb","slice","split","map","x","hex","parseInt","toString","length","join","rgbToHexAlt","g","b","ex","lineBresingheimPen","ctx","x1","y1","x2","y2","pxW","pxH","clr","e2","newX1","round","newY1","newX2","newY2","dx","abs","sx","dy","sy","er","end","beginPath","fillStyle","rect","fill","lineBresingheimErase","clearRect","toFastColor","color","fnRgbHex","fnRgbHexAlt","fastColors","querySelector","newColor","primaryColor","firstChild","style","background","secondaryColor","lastChild","switchCanvasAltZindex","bool","canvasMain","getElementById","canvasAlt","zIndex","runtime","undefined","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","makeInvokeMethod","fn","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","Promise","resolve","reject","invoke","result","__await","then","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","Tools","draw","tools","penSizes","toolContainer","penSizeContainer","penSizeActive","size","index","classNameOfEl","toolBarContainer","toolActive","tool","title","fastColorsContainer","paletteFormSelect","mainContainer","penSize","toolBar","paletteColors","e","target","getAttribute","remove","activeTool","isActive","getParent","contains","defineTool","code","setActiveTool","Frames","framesContainer","frameList","frameActive","moveAction","isDown","moveY","getLeaveLi","liEmpty","imgsrc","frameNum","frame","frameImg","controlContainer","control","frameNumber","frameSet","number","imgObj","src","alt","createFrame","unfilled","newFrame","fromActiveFrametoMainCanvas","children","el","innerText","setActiveFrameAlt","newCopiedFrame","cloneNode","getCopyFrameNumber","frIndex","childNodes","refreshFrames","childElementCount","getNumEl","reindexFrames","clientY","offsetTop","before","top","previousElementSibling","nextElementSibling","removeAttribute","allFrames","querySelectorAll","item","Draw","ctxMain","ctxAlt","coordinates","blockSize","line","isDrawing","startX","startY","endX","endY","drawContainer","drawCanvas","id","width","height","optCont","coordContainer","coordX","coordY","sizeContainer","canvasSize","sizeSelector","optionsContainer","getBoundingClientRect","firstElementChild","clientX","left","lastElementChild","y","canvasDraw","canvasOptions","setBlockSize","getContext","buttons","offsetX","offsetY","movementX","movementY","rgba","getImageData","data","fillRect","fromAltToMainCanvas","drawImage","fromMainCanvasToActiveFrame","activeFrame","toDataURL","Preview","previewContainer","prevFrameContainer","fpsInputElement","fullScreenButton","stopAnimation","visibility","createFrames","fpsContainer","labelFps","for","fps","player","fpsValue","window","clearInterval","requestFullscreen","framesCount","setInterval","display","WrapperSprite","frames","preview","wrapperContainer","head","foot","homeRef","href","logo","credentialsContainer","buttonClass","buttonValue","createdByPar","about","inspiredByPar","main","init","body","bodyContainer","header","footer","WrapperLanding","features","buttonCreate","samplesContainer","ulList","hello","world","sample","liElement","aboutContainer","descriptionContainer","screenapp","featuresContainer","feat","sectionAbout","sectionSamples","sectionFeatures","choosePage","page","restoreData","toStorage","config","wrapper","wrapperInit","syncFrames","frameMouseDownListener","frameActionsMousedown","frameMouseMoveListener","frameActionsMousemove","addEventListener","event","penSizeChange","toolSwitch","fastColorsChange","colorChoose","setActiveFrame","createNewFrame","frameActionsClick","frameActionsMouseup","pencilDrawErase","colorPicker","colorFill","lineDrawMouseupListener","lineDrawMousedownListener","lineDrawMousemoveListener","fpsRangeChange","enableFullscreen","pressKeyListener","saveData","location","reload","wrapperLanding"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","Element.prototype.insertAfter = (newEl) => {\n  this.parentNode.insertBefore(newEl, this.nextSibling);\n};\n\nmodule.exports = {\n  createDomEl: (tagName, className, tagTo, tagValue, tagAttr = null) => {\n    const domEl = document.createElement(tagName);\n\n    if (className !== null) {\n      if (className instanceof Array) {\n        domEl.classList.add(...className);\n      }\n      if (typeof (className) === 'string') {\n        domEl.classList.add(className);\n      }\n    }\n    if (tagValue !== null) {\n      domEl.innerHTML = tagValue;\n    }\n    if (tagAttr !== null) {\n      Object.keys(tagAttr).forEach((elem) => {\n        domEl.setAttribute(elem, tagAttr[elem]);\n      });\n    }\n    if (tagTo !== null) {\n      tagTo.append(domEl);\n    }\n    return domEl;\n  },\n\n  Localstorage: class Localstorage {\n    constructor(key) {\n      this.key = key;\n    }\n\n    saveData(someData) {\n      if (someData !== '') {\n        localStorage.setItem(this.key, JSON.stringify(someData));\n      }\n    }\n\n    restoreData() {\n      let dataOut = '';\n      if (localStorage.getItem(this.key)) {\n        dataOut = JSON.parse(localStorage.getItem(this.key));\n      } else {\n        dataOut = false;\n      }\n      return dataOut;\n    }\n  },\n\n  randomNumber: (min, max) => Math.floor(Math.random() * (1 + min - max)) + max,\n\n  saveProperty: (obj, key, val) => {\n    const state = obj;\n    state[key] = val;\n  },\n\n  rgbToHex: rgb => `#${rgb.slice(4, -1).split(', ').map((x) => {\n    const hex = parseInt(x, 10).toString(16);\n    return hex.length === 1 ? `0${hex}` : hex;\n  }).join('')}`,\n\n  rgbToHexAlt: (r, g, b) => [r, g, b].map((ex) => {\n    const hex = ex.toString(16);\n    return hex.length === 1 ? `0${hex}` : hex;\n  }).join(''),\n\n  lineBresingheimPen: (ctx, x1, y1, x2, y2, pxW, pxH, clr) => {\n    let newX1 = Math.round(x1 / pxW);\n    let newY1 = Math.round(y1 / pxH);\n    const newX2 = Math.round(x2 / pxW);\n    const newY2 = Math.round(y2 / pxH);\n    const dx = Math.abs((newX2 - newX1));\n    const sx = newX1 < newX2 ? 1 : -1;\n    const dy = -Math.abs(newY2 - newY1);\n    const sy = newY1 < newY2 ? 1 : -1;\n    let e2;\n    let er = dx + dy;\n    let end = false;\n    ctx.beginPath();\n    ctx.fillStyle = clr;\n    while (!end) {\n      ctx.rect(newX1 * pxW, newY1 * pxH, pxW, pxH);\n      if (newX1 === newX2 && newY1 === newY2) {\n        end = true;\n      } else {\n        e2 = 2 * er;\n        if (e2 > dy) {\n          er += dy;\n          newX1 += sx;\n        }\n        if (e2 < dx) {\n          er += dx;\n          newY1 += sy;\n        }\n      }\n    }\n    ctx.fill();\n  },\n\n  lineBresingheimErase: (ctx, x1, y1, x2, y2, pxW, pxH, clr) => {\n    let newX1 = Math.round(x1 / pxW);\n    let newY1 = Math.round(y1 / pxH);\n    const newX2 = Math.round(x2 / pxW);\n    const newY2 = Math.round(y2 / pxH);\n    const dx = Math.abs((newX2 - newX1));\n    const sx = newX1 < newX2 ? 1 : -1;\n    const dy = -Math.abs(newY2 - newY1);\n    const sy = newY1 < newY2 ? 1 : -1;\n    let e2;\n    let er = dx + dy;\n    let end = false;\n    ctx.beginPath();\n    ctx.fillStyle = clr;\n    while (!end) {\n      ctx.clearRect(newX1 * pxW, newY1 * pxH, pxW, pxH);\n      if (newX1 === newX2 && newY1 === newY2) {\n        end = true;\n      } else {\n        e2 = 2 * er;\n        if (e2 > dy) {\n          er += dy;\n          newX1 += sx;\n        }\n        if (e2 < dx) {\n          er += dx;\n          newY1 += sy;\n        }\n      }\n    }\n    ctx.fill();\n  },\n\n  toFastColor: (color, object, fnRgbHex, fnRgbHexAlt) => {\n    const obj = object;\n    const fastColors = document.querySelector('.fast-colors');\n    const newColor = `#${fnRgbHexAlt(...color)}`;\n    let primaryColor = fnRgbHex(fastColors.firstChild.style.background);\n    let secondaryColor = fnRgbHex(fastColors.lastChild.style.background);\n    secondaryColor = primaryColor;\n    primaryColor = newColor;\n    fastColors.firstChild.style.background = primaryColor;\n    fastColors.lastChild.style.background = secondaryColor;\n    obj.fastColors = [primaryColor, secondaryColor];\n  },\n\n  switchCanvasAltZindex: (bool) => {\n    const canvasMain = document.getElementById('drawCanvas');\n    const canvasAlt = document.getElementById('drawCanvasAlt');\n    const zIndexMain = 100;\n    const zIndexAlt = 90;\n    if (bool === true) {\n      canvasMain.style.zIndex = zIndexAlt;\n      canvasAlt.style.zIndex = zIndexMain;\n    } else {\n      canvasMain.style.zIndex = zIndexMain;\n      canvasAlt.style.zIndex = zIndexAlt;\n    }\n  },\n};\n","module.exports = __webpack_public_path__ + \"assets/img/5732214a6a546f463270af0674f6d845.png\";","module.exports = __webpack_public_path__ + \"assets/img/b59ade9072f71bace1c8d0994b8d1fbf.png\";","module.exports = __webpack_public_path__ + \"assets/img/6666ac1ba3b5c4cea421d357e7e3a39e.png\";","module.exports = __webpack_public_path__ + \"assets/img/e826439d69b8b91bbf0015bebe44ca93.gif\";","module.exports = __webpack_public_path__ + \"assets/img/80be3c7218a4d7f4faca5f24e395942e.gif\";","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import { createDomEl, rgbToHex, switchCanvasAltZindex } from '../util';\n\nexport default class Tools {\n  constructor(state, draw) {\n    this.state = state;\n    this.draw = draw;\n    this.tools = [\n      {\n        name: 'pen',\n        key: 'KeyP',\n      },\n      {\n        name: 'color-pick',\n        key: 'KeyC',\n      },\n      {\n        name: 'bucket',\n        key: 'KeyB',\n      },\n      {\n        name: 'erase',\n        key: 'KeyE',\n      },\n      {\n        name: 'stroke',\n        key: 'KeyS',\n      },\n    ];\n    this.penSizes = [1, 2, 3, 4];\n    this.toolContainer = createDomEl('section', 'tools', null, null, null);\n  }\n\n  penSize() {\n    const penSizeContainer = createDomEl('div', 'pen-size', this.toolContainer, null, null);\n    const { penSizeActive } = this.state;\n    this.penSizes.forEach((size, index) => {\n      const classNameOfEl = ((index + 1) === penSizeActive) ? [`size-${(index + 1)}x`, 'active'] : `size-${(index + 1)}x`;\n      createDomEl('span', classNameOfEl, penSizeContainer, null, {\n        'data-size': size,\n      });\n    });\n    return penSizeContainer;\n  }\n\n  toolBar() {\n    const toolBarContainer = createDomEl('ul', 'instruments', this.toolContainer, null, null);\n    const { toolActive } = this.state;\n    this.tools.forEach((tool) => {\n      const { name, key } = tool;\n      const classNameOfEl = (name === toolActive) ? ['tool', name, 'active'] : ['tool', name];\n      createDomEl('li', classNameOfEl, toolBarContainer, null, {\n        'data-key': key,\n        title: `To enable this tool from keyboard press key (${key.slice(3)})`,\n      });\n    });\n    return toolBarContainer;\n  }\n\n  fastColors() {\n    const fastColorsContainer = createDomEl('ul', 'fast-colors', this.toolContainer, null, null);\n    const { fastColors } = this.state;\n    fastColors.forEach((color, index) => {\n      const classNameOfEl = (index === 0) ? 'primary' : 'secondary';\n      createDomEl('li', classNameOfEl, fastColorsContainer, null, {\n        style: `background: ${color}`,\n      });\n    });\n    return fastColorsContainer;\n  }\n\n  paletteColors() {\n    const paletteFormSelect = createDomEl('form', null, this.toolContainer, null, null);\n    createDomEl('label', null, paletteFormSelect, 'Colors: ', null);\n    createDomEl('input', 'palette', paletteFormSelect, null, {\n      type: 'color',\n      value: '#f6c506',\n    });\n    return paletteFormSelect;\n  }\n\n  init(mainContainer) {\n    this.penSize();\n    this.toolBar();\n    this.fastColors();\n    this.paletteColors();\n    mainContainer.append(this.toolContainer);\n    return this.toolContainer;\n  }\n\n  penSizeChange(e) {\n    const penSize = e.target;\n    this.state.penSizeActive = parseInt(penSize.getAttribute('data-size'), 10);\n    penSize.parentNode.querySelector('.pen-size > .active').classList.remove('active');\n    penSize.classList.add('active');\n  }\n\n  toolSwitch(e) {\n    const activeTool = e.target.classList[1];\n    this.state.toolActive = activeTool;\n    e.target.parentNode.querySelector('.tool.active').classList.remove('active');\n    e.target.classList.add('active');\n    const isActive = (activeTool === 'stroke');\n    switchCanvasAltZindex(isActive);\n  }\n\n  fastColorsChange(e) {\n    const getParent = e.target.parentNode;\n    const primaryColor = rgbToHex(getParent.lastChild.style.background);\n    const secondaryColor = rgbToHex(getParent.firstChild.style.background);\n    getParent.firstChild.style.background = primaryColor;\n    getParent.lastChild.style.background = secondaryColor;\n    this.state.fastColors = [primaryColor, secondaryColor];\n  }\n\n  colorChoose(e) {\n    if (e.target.classList.contains('palette')) {\n      const fastColors = document.querySelector('.fast-colors');\n      const primaryColor = e.target.value;\n      const secondaryColor = fastColors.firstChild.style.background;\n      fastColors.firstChild.style.background = primaryColor;\n      fastColors.lastChild.style.background = secondaryColor;\n      this.state.fastColors = [primaryColor, secondaryColor];\n    }\n  }\n\n  setActiveTool(tool) {\n    this.state.toolActive = tool;\n    document.querySelector('.tool.active').classList.remove('active');\n    document.querySelector(`.tool.${tool}`).classList.add('active');\n  }\n\n  pressKeyListener(e) {\n    const defineTool = document.querySelector(`li[data-key=\"${e.code}\"]`);\n    if (defineTool) {\n      this.setActiveTool(defineTool.classList[1]);\n      const isActive = (this.state.toolActive === 'stroke');\n      switchCanvasAltZindex(isActive);\n    }\n  }\n}\n","import { createDomEl } from '../util';\nimport unfilled from '../../assets/img/unfilled.png';\n\nexport default class Frames {\n  constructor(state, draw) {\n    this.state = state;\n    this.draw = draw;\n    this.framesContainer = createDomEl('section', 'frames', null, null, null);\n    this.frameList = createDomEl('ul', null, this.framesContainer, null, null);\n    this.frameActive = '';\n    this.moveAction = {\n      isDown: false,\n      moveY: '',\n      getLeaveLi: '',\n      liEmpty: '',\n    };\n  }\n\n  createFrame(imgsrc, frameNum) {\n    const classNameOfEl = (frameNum === 1) ? ['frame', 'active'] : 'frame';\n    const frame = createDomEl('li', classNameOfEl, this.frameList, null, null);\n\n    const frameImg = createDomEl('img', null, frame, null, imgsrc);\n\n    const controlContainer = createDomEl('div', 'controls', frame, null, null);\n    ['num', 'del', 'move', 'copy'].forEach((control) => {\n      const frameNumber = (control === 'num') ? frameNum : null;\n      createDomEl('span', control, controlContainer, frameNumber, null);\n    });\n    if (frameNum === 1) this.frameActive = frameImg;\n    return frame;\n  }\n\n  init(mainContainer) {\n    this.state.frameSet.forEach((frame, number) => {\n      const imgObj = {\n        src: frame,\n        alt: 'frame',\n      };\n      this.createFrame(imgObj, (number + 1));\n    });\n\n    createDomEl('button', 'add-new-frame', this.framesContainer, 'Add new frame', null);\n    mainContainer.append(this.framesContainer);\n    return this.framesContainer;\n  }\n\n  createNewFrame() {\n    const imgObj = {\n      src: unfilled,\n      alt: 'frame',\n    };\n    this.state.frameSet.push(unfilled);\n    const newFrame = this.createFrame(imgObj, this.state.frameSet.length);\n    this.frameList.append(newFrame);\n  }\n\n  setActiveFrame(e) {\n    this.frameList.querySelector('.frame.active').classList.remove('active');\n    e.target.parentNode.classList.add('active');\n    this.frameActive = e.target.parentNode.querySelector('img');\n    this.draw.fromActiveFrametoMainCanvas();\n  }\n\n  setActiveFrameAlt(e) {\n    this.frameList.querySelector('.frame.active').classList.remove('active');\n    e.target.parentNode.parentNode.classList.add('active');\n    this.frameActive = e.target.parentNode.parentNode.querySelector('img');\n    this.draw.fromActiveFrametoMainCanvas();\n  }\n\n  reindexFrames() {\n    Object.values(this.frameList.children).forEach((el, index) => {\n      const elem = el;\n      elem.querySelector('.num').innerText = (index + 1);\n    });\n  }\n\n  frameActionsClick(e) {\n    this.setActiveFrameAlt(e);\n    if (e.target.classList.contains('copy')) {\n      const frameToCopy = e.target.parentNode.parentNode;\n      const newCopiedFrame = frameToCopy.cloneNode(true);\n      newCopiedFrame.classList.remove('active');\n      const getCopyFrameNumber = newCopiedFrame.querySelector('.num');\n      const frIndex = parseInt(getCopyFrameNumber.innerText, 10);\n      getCopyFrameNumber.innerText = frIndex + 1;\n      this.frameList.insertBefore(newCopiedFrame, this.frameList.childNodes[frIndex]);\n      this.refreshFrames();\n    }\n\n    if (e.target.classList.contains('del')) {\n      if (this.frameList.childElementCount > 1) {\n        const getNumEl = e.target.parentNode.querySelector('.num').innerText;\n        e.target.parentNode.parentNode.remove();\n        if (getNumEl === '1') {\n          this.frameList.children[0].classList.add('active');\n        } else {\n          this.frameList.children[parseInt(getNumEl, 10) - 2].classList.add('active');\n          this.frameActive = this.frameList.children[parseInt(getNumEl, 10) - 2].querySelector('img');\n        }\n      }\n      this.refreshFrames();\n    }\n\n    this.reindexFrames();\n  }\n\n  frameActionsMousedown(e) {\n    if (e.target.classList.contains('move')) {\n      this.moveAction.moveY = e.clientY;\n      this.moveAction.isDown = true;\n      this.moveAction.getLeaveLi = e.target.parentNode.parentNode;\n\n      this.moveAction.liEmpty = createDomEl('li', ['frame', 'empty'], null, null, null);\n\n      this.moveAction.getLeaveLi.classList.add('leave');\n      document.querySelector('.frame.leave').style.offsetTop = this.moveAction.getLeaveLi.offsetTop;\n\n      this.moveAction.getLeaveLi.before(this.moveAction.liEmpty);\n      this.refreshFrames();\n    }\n  }\n\n  frameActionsMousemove(e) {\n    if (this.moveAction.isDown && this.moveAction.getLeaveLi) {\n      this.moveAction.getLeaveLi.style.top = `${e.clientY - 90}px`;\n      if ((this.moveAction.moveY) > e.clientY && (this.moveAction.moveY - 98) > e.clientY) {\n        if (this.moveAction.liEmpty.previousElementSibling !== null) {\n          this.moveAction.liEmpty.previousElementSibling.before(this.moveAction.liEmpty);\n        }\n        this.moveAction.moveY -= 120;\n      }\n\n      if ((this.moveAction.moveY) < e.clientY && (this.moveAction.moveY + 30) < e.clientY) {\n        if (this.moveAction.liEmpty.nextElementSibling !== null) {\n          this.moveAction.liEmpty.before(this.moveAction.liEmpty.nextElementSibling);\n        }\n        this.moveAction.moveY += 98;\n      }\n      this.refreshFrames();\n    }\n  }\n\n  frameActionsMouseup() {\n    if (this.moveAction.isDown) {\n      this.moveAction.getLeaveLi.parentNode\n        .insertBefore(this.moveAction.getLeaveLi, this.moveAction.liEmpty);\n      this.moveAction.liEmpty.remove();\n      this.moveAction.getLeaveLi.removeAttribute('style');\n      this.moveAction.getLeaveLi.classList.remove('leave');\n      this.reindexFrames();\n    }\n    this.moveAction.isDown = false;\n  }\n\n  refreshFrames() {\n    const allFrames = Object.values(this.frameList.querySelectorAll('.frame'))\n      .map(item => item.querySelector('img').src);\n    this.state.frameSet = allFrames;\n  }\n}\n","import {\n  createDomEl, lineBresingheimPen, lineBresingheimErase, toFastColor, rgbToHex, rgbToHexAlt,\n} from '../util';\n\nexport default class Draw {\n  constructor(state) {\n    this.state = state;\n    this.canvasMain = '';\n    this.canvasAlt = '';\n    this.ctxMain = '';\n    this.ctxAlt = '';\n    this.coordinates = '';\n    this.blockSize = '';\n    this.line = {\n      isDrawing: false,\n      startX: '',\n      startY: '',\n      endX: '',\n      endY: '',\n    };\n    this.drawContainer = createDomEl('section', 'draw', null, null, null);\n  }\n\n  canvasDraw() {\n    const drawCanvas = createDomEl('div', 'draw-container', this.drawContainer, null, null);\n    this.canvasMain = createDomEl('canvas', null, drawCanvas, null, {\n      id: 'drawCanvas',\n      width: '512',\n      height: '512',\n    });\n\n    this.canvasAlt = createDomEl('canvas', null, drawCanvas, null, {\n      id: 'drawCanvasAlt',\n      width: '512',\n      height: '512',\n    });\n    return this.drawCanvas;\n  }\n\n  canvasCoordinates(optCont) {\n    const coordContainer = createDomEl('div', 'coord', optCont, null, null);\n    const coordX = createDomEl('p', null, coordContainer, 'X: ', null);\n    createDomEl('span', null, coordX, '0', null);\n    const coordY = createDomEl('p', null, coordContainer, 'Y: ', null);\n    createDomEl('span', null, coordY, '0', null);\n    this.coordinates = coordContainer;\n    return coordContainer;\n  }\n\n  canvasSize(optCont) {\n    const sizeContainer = createDomEl('div', 'canvas-size', optCont, null, null);\n    createDomEl('span', null, sizeContainer, 'Canvas Size: ', null);\n    const { canvasSize } = this.state;\n    const sizeSelector = createDomEl('select', null, sizeContainer, null, null);\n\n    [32, 64, 128].forEach((size) => {\n      createDomEl('option', null, sizeSelector, `${size}x${size}`, {\n        value: size,\n      });\n    });\n    sizeSelector.querySelector(`option[value=\"${canvasSize}\"]`).setAttribute('selected', 'selected');\n\n    return sizeContainer;\n  }\n\n  canvasOptions() {\n    const optionsContainer = createDomEl('div', 'options', this.drawContainer, null, null);\n    this.canvasSize(optionsContainer);\n    return optionsContainer;\n  }\n\n  getMousePos(e) {\n    const rect = this.canvasMain.getBoundingClientRect();\n    this.coordinates.firstElementChild.querySelector('span').innerText = parseInt((e.clientX - rect.left), 10);\n    this.coordinates.lastElementChild.querySelector('span').innerText = parseInt((e.clientY - rect.top), 10);\n    return {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top,\n    };\n  }\n\n  setBlockSize() {\n    this.blockSize = this.canvasMain.width / this.state.canvasSize;\n  }\n\n  init(mainContainer) {\n    this.canvasDraw();\n    this.canvasOptions();\n    this.setBlockSize();\n    mainContainer.append(this.drawContainer);\n    this.ctxMain = this.canvasMain.getContext('2d');\n    const [color] = this.state.fastColors;\n    this.ctxMain.fillStyle = color;\n    this.ctxAlt = this.canvasAlt.getContext('2d');\n    return this.drawContainer;\n  }\n\n  pencilDrawErase(e) {\n    const { toolActive } = this.state;\n    const size = this.blockSize * this.state.penSizeActive;\n    if (e.buttons > 0 && toolActive === 'pen') {\n      const x = e.offsetX;\n      const y = e.offsetY;\n      const dx = e.movementX;\n      const dy = e.movementY;\n      const [color] = this.state.fastColors;\n      lineBresingheimPen(this.ctxMain, x - dx, y - dy, x, y, size, size, color);\n    }\n    if (e.buttons > 0 && toolActive === 'erase') {\n      const x = e.offsetX;\n      const y = e.offsetY;\n      const dx = e.movementX;\n      const dy = e.movementY;\n      const [color] = this.state.fastColors;\n      lineBresingheimErase(this.ctxMain, x - dx, y - dy, x, y, size, size, color);\n    }\n  }\n\n  colorPicker(e) {\n    const { toolActive } = this.state;\n    const x = e.offsetX;\n    const y = e.offsetY;\n    if (toolActive === 'color-pick') {\n      const rgba = this.ctxMain.getImageData(x, y, 1, 1).data;\n      toFastColor(rgba, this.state, rgbToHex, rgbToHexAlt);\n    }\n  }\n\n  colorFill() {\n    const { toolActive } = this.state;\n    const [color] = this.state.fastColors;\n    if (toolActive === 'bucket') {\n      this.ctxMain.fillStyle = color;\n      this.ctxMain.fillRect(0, 0, this.canvasMain.width, this.canvasMain.height);\n    }\n  }\n\n  lineDrawMousedownListener(e) {\n    const { toolActive } = this.state;\n    if (toolActive === 'stroke') {\n      this.ctxAlt.clearRect(0, 0, this.canvasAlt.width, this.canvasAlt.width);\n      this.isDrawing = true;\n      this.line.startX = e.offsetX;\n      this.line.startY = e.offsetY;\n    }\n  }\n\n  lineDrawMousemoveListener(e) {\n    const { toolActive } = this.state;\n    const size = this.blockSize * this.state.penSizeActive;\n    const [color] = this.state.fastColors;\n    if (toolActive === 'stroke' && this.isDrawing === true) {\n      this.ctxAlt.clearRect(0, 0, this.canvasAlt.width, this.canvasAlt.width);\n      this.line.endX = e.offsetX + e.movementX;\n      this.line.endY = e.offsetY + e.movementY;\n      lineBresingheimPen(\n        this.ctxAlt, this.line.startX, this.line.startY,\n        this.line.endX, this.line.endY, size, size, color,\n      );\n    }\n  }\n\n  lineDrawMouseupListener() {\n    const { toolActive } = this.state;\n    const size = this.blockSize * this.state.penSizeActive;\n    const [color] = this.state.fastColors;\n    this.isDrawing = false;\n    if (toolActive === 'stroke' && this.isDrawing === false) {\n      this.ctxAlt.clearRect(0, 0, this.canvasAlt.width, this.canvasAlt.width);\n      lineBresingheimPen(\n        this.ctxAlt, this.line.startX, this.line.startY,\n        this.line.endX, this.line.endY, size, size, color,\n      );\n      this.fromAltToMainCanvas();\n    }\n  }\n\n  fromAltToMainCanvas() {\n    this.ctxMain.drawImage(this.canvasAlt, 0, 0);\n    this.ctxAlt.clearRect(0, 0, this.canvasAlt.width, this.canvasAlt.height);\n    this.fromMainCanvasToActiveFrame();\n  }\n\n  fromMainCanvasToActiveFrame() {\n    const activeFrame = document.querySelector('.frame.active > img');\n    activeFrame.src = this.canvasMain.toDataURL();\n    this.ctxMain.drawImage(activeFrame, 0, 0);\n  }\n\n  fromActiveFrametoMainCanvas() {\n    const activeFrame = document.querySelector('.frame.active > img');\n    this.ctxMain.clearRect(0, 0, this.canvasMain.width, this.canvasMain.height);\n    this.ctxMain.drawImage(activeFrame, 0, 0, this.canvasMain.width, this.canvasMain.width);\n  }\n}\n","import { createDomEl } from '../util';\n\nexport default class Preview {\n  constructor(state) {\n    this.state = state;\n    this.previewContainer = createDomEl('section', 'preview', null, null, null);\n    this.prevFrameContainer = createDomEl('div', 'prev-frame', null, null, null);\n    this.fpsInputElement = '';\n    this.fullScreenButton = '';\n    this.stopAnimation = '';\n  }\n\n  createFrames() {\n    this.state.frameSet.forEach((frame, number) => {\n      const visibility = (number === 0) ? '' : 'display:none';\n      createDomEl('img', null, this.prevFrameContainer, null, {\n        src: frame,\n        alt: 'frame',\n        style: visibility,\n      });\n    });\n  }\n\n  init(mainContainer) {\n    const optionsContainer = createDomEl('div', 'options', this.previewContainer, null, null);\n    this.fullScreenButton = createDomEl('button', 'full-screen', optionsContainer, 'Fullscreen', null);\n    createDomEl('button', 'save', optionsContainer, 'Save', null);\n    this.previewContainer.append(this.prevFrameContainer);\n    this.createFrames();\n\n    const fpsContainer = createDomEl('div', 'fps-set', this.previewContainer, null, null);\n    const labelFps = createDomEl('label', null, fpsContainer, null, {\n      for: 'fps-range',\n    });\n    createDomEl('span', 'fps-value', labelFps, this.state.fps, null);\n    createDomEl('span', null, labelFps, ' FPS', null);\n    this.fpsInputElement = createDomEl('input', 'fps-change', fpsContainer, null, {\n      id: 'fps-range',\n      type: 'range',\n      min: '1',\n      max: '24',\n      value: this.state.fps,\n    });\n\n    mainContainer.append(this.previewContainer);\n    this.player();\n    return this.previewContainer;\n  }\n\n  refreshFrames() {\n    this.prevFrameContainer.innerHTML = '';\n    this.createFrames();\n  }\n\n\n  fpsRangeChange() {\n    const fpsValue = this.previewContainer.querySelector('.fps-change').value;\n    this.previewContainer.querySelector('.fps-value').innerText = fpsValue;\n    this.state.fps = fpsValue;\n    window.clearInterval(this.stopAnimation);\n    this.player();\n  }\n\n  enableFullscreen() {\n    this.prevFrameContainer.requestFullscreen();\n  }\n\n  player() {\n    const { fps } = this.state;\n    const framesCount = this.prevFrameContainer.childElementCount;\n    if (framesCount > 1) {\n      let frame = 0;\n      this.stopAnimation = setInterval(() => {\n        if (frame === framesCount) {\n          frame = 0;\n        }\n\n        if (frame === 0) {\n          this.prevFrameContainer.children[framesCount - 1].style.display = 'none';\n          this.prevFrameContainer.children[frame].style.display = '';\n        }\n\n        if (frame >= 1) {\n          this.prevFrameContainer.children[frame - 1].style.display = 'none';\n          this.prevFrameContainer.children[frame].style.display = '';\n        }\n        frame += 1;\n      }, 1000 / parseInt(fps, 10));\n    }\n  }\n}\n","import { createDomEl } from '../util';\nimport logo from '../../assets/img/logo.png';\nimport Tools from './tools';\nimport Frames from './frames';\nimport Draw from './drawCanvas';\nimport Preview from './preview';\n\nexport default class WrapperSprite {\n  constructor(state) {\n    this.state = state;\n    this.draw = new Draw(this.state);\n    this.frames = new Frames(this.state, this.draw);\n    this.tools = new Tools(this.state, this.draw);\n    this.preview = new Preview(this.state);\n    this.wrapperContainer = createDomEl('div', 'wrapper', null, null, null);\n    this.head = '';\n    this.foot = '';\n    this.homeRef = '';\n  }\n\n  header() {\n    this.head = createDomEl('header', null, this.wrapperContainer, null, null);\n    this.homeRef = createDomEl('a', 'logo', this.head, null, { href: 'index.html' });\n    createDomEl('img', null, this.homeRef, null, {\n      src: logo,\n      alt: 'Piskel Clone',\n    });\n\n    const credentialsContainer = createDomEl('div', 'credentials', this.head, null, null);\n    ['sign-in'].forEach((buttonClass) => {\n      const buttonValue = (buttonClass === 'create-sprite') ? 'Create Sprite' : 'Sign In';\n      createDomEl('button', buttonClass, credentialsContainer, buttonValue, null);\n    });\n\n    return this.head;\n  }\n\n  footer() {\n    this.foot = createDomEl('footer', null, this.wrapperContainer, null, null);\n\n    const createdByPar = createDomEl('p', null, this.foot, 'Created by ', null);\n    createDomEl('a', null, createdByPar, 'Vitali Maisiayonak', {\n      href: 'https://www.linkedin.com/public-profile/settings?trk=d_flagship3_profile_self_view_public_profile',\n      about: '_blank',\n    });\n\n    const inspiredByPar = createDomEl('p', null, this.foot, 'Inspired by ', null);\n    createDomEl('a', null, inspiredByPar, 'Rolling Scopes School', {\n      href: 'https://rs.school',\n      about: '_blank',\n    });\n    return this.foot;\n  }\n\n  main() {\n    const main = createDomEl('main', null, this.wrapperContainer, null, null);\n    this.tools.init(main);\n    this.frames.init(main);\n    this.draw.init(main);\n    this.preview.init(main, document.body);\n  }\n\n  wrapperInit(bodyContainer) {\n    this.header();\n    this.main();\n    this.footer();\n    bodyContainer.append(this.wrapperContainer);\n    this.draw.fromActiveFrametoMainCanvas();\n  }\n}\n","import { createDomEl } from '../util';\nimport logo from '../../assets/img/logo.png';\nimport screenapp from '../../assets/img/screen-app.png';\nimport hello from '../../assets/img/templates/hello.gif';\nimport world from '../../assets/img/templates/world.gif';\n\nexport default class WrapperLanding {\n  constructor() {\n    this.wrapperContainer = createDomEl('div', 'wrapper', null, null, null);\n    this.head = '';\n    this.foot = '';\n    this.features = ['Live, preview', 'File export', 'Localstorage data save', 'Fullscreen mode', 'Google sign-in'];\n    this.buttonCreate = '';\n  }\n\n  header() {\n    this.head = createDomEl('header', null, this.wrapperContainer, null, null);\n    const homeRef = createDomEl('a', 'logo', this.head, null, { href: 'index.html' });\n    createDomEl('img', null, homeRef, null, {\n      src: logo,\n      alt: 'Piskel Clone',\n    });\n\n    const credentialsContainer = createDomEl('div', 'credentials', this.head, null, null);\n    ['sign-in'].forEach((buttonClass) => {\n      const buttonValue = (buttonClass === 'create-sprite') ? 'Create Sprite' : 'Sign In';\n      createDomEl('button', buttonClass, credentialsContainer, buttonValue, null);\n    });\n\n    return this.head;\n  }\n\n  footer() {\n    this.foot = createDomEl('footer', null, this.wrapperContainer, null, null);\n\n    const createdByPar = createDomEl('p', null, this.foot, 'Created by ', null);\n    createDomEl('a', null, createdByPar, 'Vitali Maisiayonak', {\n      href: 'https://www.linkedin.com/public-profile/settings?trk=d_flagship3_profile_self_view_public_profile',\n      about: '_blank',\n    });\n\n    const inspiredByPar = createDomEl('p', null, this.foot, 'Inspired by ', null);\n    createDomEl('a', null, inspiredByPar, 'Rolling Scopes School', {\n      href: 'https://rs.school',\n      about: '_blank',\n    });\n    return this.foot;\n  }\n\n  sectionAbout() {\n    const aboutContainer = createDomEl('section', 'about-app', null, null, null);\n\n    const descriptionContainer = createDomEl('div', 'description', aboutContainer, null, null);\n    createDomEl('h1', null, descriptionContainer, 'Piskel Clone Project', null);\n    createDomEl('p', null, descriptionContainer, 'Create animations in your browser.', null);\n    this.buttonCreate = createDomEl('button', 'create-sprite', descriptionContainer, 'Create Sprite', null);\n\n    createDomEl('img', null, aboutContainer, null, {\n      src: screenapp,\n      alt: 'app screenshot',\n    });\n    return aboutContainer;\n  }\n\n  static sectionSamples() {\n    const samplesContainer = createDomEl('section', 'examples', null, null, null);\n    createDomEl('h2', null, samplesContainer, 'Examples', null);\n    const ulList = createDomEl('ul', null, samplesContainer, null, null);\n    [hello, world].forEach((sample) => {\n      const liElement = createDomEl('li', null, ulList, null, null);\n      createDomEl('img', null, liElement, null, {\n        src: sample,\n        alt: 'example',\n      });\n    });\n    return samplesContainer;\n  }\n\n  sectionFeatures() {\n    const featuresContainer = createDomEl('section', 'features', null, null, null);\n    createDomEl('h2', null, featuresContainer, 'Features', null);\n    const ulList = createDomEl('ul', null, featuresContainer, null, null);\n    this.features.forEach(feat => createDomEl('li', null, ulList, feat, null));\n    return featuresContainer;\n  }\n\n  main() {\n    const main = createDomEl('main', 'landing', this.wrapperContainer, null, null);\n    main.append(this.sectionAbout());\n    main.append(WrapperLanding.sectionSamples());\n    main.append(this.sectionFeatures());\n  }\n\n  wrapperInit(bodyContainer) {\n    this.header();\n    this.main();\n    this.footer();\n    bodyContainer.append(this.wrapperContainer);\n  }\n}\n","import './scss/style.scss';\nimport './scss/landing-style.scss';\nimport WrapperSprite from './js/components/wrapperSprite';\nimport WrapperLanding from './js/components/wrapperLanding';\nimport { saveProperty, Localstorage } from './js/util';\nimport unfilled from './assets/img/unfilled.png';\n\nconst choosePage = new Localstorage('page');\nlet page = (choosePage.restoreData() === false) ? 'landing' : choosePage.restoreData();\n\nconst toStorage = new Localstorage('app_init');\nconst config = {\n  penSizeActive: 1,\n  toolActive: 'pen',\n  fastColors: ['#ffffff', '#c71919'],\n  canvasSize: 128,\n  frameSet: [unfilled],\n  fps: 1,\n};\nconst state = (toStorage.restoreData() === false) ? config : toStorage.restoreData();\n\nif (page === 'sprite') {\n  const wrapper = new WrapperSprite(state);\n  document.body.innerHTML = '';\n  wrapper.wrapperInit(document.body);\n\n  const toolClickListener = (event) => {\n    if (event.target.parentNode.classList.contains('pen-size')) {\n      wrapper.tools.penSizeChange(event, saveProperty, state);\n    }\n\n    if (event.target.parentNode.classList.contains('instruments')) {\n      wrapper.tools.toolSwitch(event);\n    }\n\n    if (event.target.parentNode.classList.contains('fast-colors')) {\n      wrapper.tools.fastColorsChange(event);\n    }\n  };\n\n  const syncFrames = () => new Promise(((resolve) => {\n    resolve(wrapper.frames.refreshFrames());\n  })).then(() => new Promise((resolve) => {\n    resolve(wrapper.preview.refreshFrames());\n  }).then(() => {\n    window.clearInterval(wrapper.preview.stopAnimation);\n    wrapper.preview.player();\n  }));\n\n  const savetoLocalStorage = () => {\n    toStorage.saveData(state);\n    choosePage.saveData(page);\n  };\n\n  const frameClickListener = (event) => {\n    if (event.target.classList.contains('controls')) {\n      wrapper.frames.setActiveFrame(event);\n    }\n\n    if (event.target.classList.contains('add-new-frame')) {\n      wrapper.frames.createNewFrame();\n      syncFrames();\n    }\n\n    if (event.target.parentNode.classList.contains('controls')) {\n      wrapper.frames.frameActionsClick(event);\n      syncFrames();\n    }\n  };\n\n  const frameMouseDownListener = wrapper.frames.frameActionsMousedown;\n  const frameMouseMoveListener = wrapper.frames.frameActionsMousemove;\n\n  wrapper.tools.toolContainer.addEventListener('click', toolClickListener);\n  wrapper.tools.toolContainer.addEventListener('change', wrapper.tools.colorChoose.bind(wrapper.tools));\n\n  wrapper.frames.framesContainer.addEventListener('click', frameClickListener);\n  wrapper.frames.framesContainer.addEventListener('mousedown', frameMouseDownListener.bind(wrapper.frames));\n  wrapper.frames.framesContainer.addEventListener('mousemove', frameMouseMoveListener.bind(wrapper.frames));\n  wrapper.frames.framesContainer.addEventListener('mouseup', () => {\n    wrapper.frames.frameActionsMouseup();\n    syncFrames();\n  });\n\n  wrapper.draw.canvasMain.addEventListener('mousedown', (event) => {\n    wrapper.draw.pencilDrawErase(event);\n    wrapper.draw.colorPicker(event);\n    wrapper.draw.colorFill();\n    syncFrames();\n  });\n\n  wrapper.draw.canvasMain.addEventListener('mouseup', () => {\n    wrapper.draw.fromMainCanvasToActiveFrame();\n    syncFrames();\n  });\n\n  wrapper.draw.canvasMain.addEventListener('mousemove', (event) => {\n    wrapper.draw.pencilDrawErase(event);\n  });\n\n  wrapper.draw.canvasAlt.addEventListener('mouseup', () => {\n    wrapper.draw.lineDrawMouseupListener();\n    syncFrames();\n  });\n  wrapper.draw.canvasAlt.addEventListener('mousedown', wrapper.draw.lineDrawMousedownListener.bind(wrapper.draw));\n  wrapper.draw.canvasAlt.addEventListener('mousemove', wrapper.draw.lineDrawMousemoveListener.bind(wrapper.draw));\n\n  wrapper.preview.fpsInputElement.addEventListener('click', wrapper.preview.fpsRangeChange.bind(wrapper.preview));\n  wrapper.preview.fpsInputElement.addEventListener('input', wrapper.preview.fpsRangeChange.bind(wrapper.preview));\n  wrapper.preview.fullScreenButton.addEventListener('click', wrapper.preview.enableFullscreen.bind(wrapper.preview));\n\n  window.addEventListener('keypress', wrapper.tools.pressKeyListener.bind(wrapper.tools));\n  window.addEventListener('unload', savetoLocalStorage);\n\n  wrapper.homeRef.addEventListener('click', () => {\n    page = 'landing';\n    choosePage.saveData(page);\n    window.location.reload();\n  });\n} else {\n  const wrapperLanding = new WrapperLanding(state);\n  document.body.innerHTML = '';\n  wrapperLanding.wrapperInit(document.body);\n\n  wrapperLanding.buttonCreate.addEventListener('click', () => {\n    page = 'sprite';\n    choosePage.saveData(page);\n    window.location.reload();\n  });\n\n  window.addEventListener('unload', () => {\n    choosePage.saveData(page);\n  });\n}\n"],"sourceRoot":""}